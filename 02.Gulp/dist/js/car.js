"use strict";$(function(){function i(){var c=0,i=0;$(".itxt").each(function(t,e){c+=parseInt($(e).val())}),$(".amount-sum em").text(c),$(".p-sum").each(function(t,e){i+=parseFloat($(e).text().substr(1))}),$(".price-sum em").text("￥"+i.toFixed(2))}$(".checkall").change(function(t){t.preventDefault(),$(".j-checkbox,.checkall").prop("checked",$(this).prop("checked")),$(this).prop("checked")?$(".cart-item").addClass("check-cart-item"):$(".cart-item").removeClass("check-cart-item")}),$(".j-checkbox").change(function(t){t.preventDefault(),$(".j-checkbox:checked").length===$(".j-checkbox").length?$(".checkall").prop("checked",!0):$(".checkall").prop("checked",!1),$(this).prop("checked")?$(this).parents(".cart-item").addClass("check-cart-item"):$(this).parents(".cart-item").removeClass("check-cart-item")}),$(".increment").click(function(t){t.preventDefault();var e=$(this).siblings(".itxt").val();e++,$(this).siblings(".itxt").val(e);var c=$(this).parents(".p-num").siblings(".p-price").html();c=c.substr(1),$(this).parents(".p-num").siblings(".p-sum").html("￥"+(c*e).toFixed(2)),i()}),$(".decrement").click(function(t){if(1!=$(this).siblings(".itxt").val()){t.preventDefault();var e=$(this).siblings(".itxt").val();e--,$(this).siblings(".itxt").val(e);var c=$(this).parents(".p-num").siblings(".p-price").html();c=c.substr(1),$(this).parents(".p-num").siblings(".p-sum").html("￥"+(c*e).toFixed(2)),i()}}),$(".itxt").change(function(t){if($(this).val()<1)$(this).val(1);else{t.preventDefault();var e=$(this).val(),c=$(this).parents(".p-num").siblings(".p-price").html();c=c.substr(1),$(this).parents(".p-num").siblings(".p-sum").html("￥"+(c*e).toFixed(2)),i()}}),i(),$(".p-action").click(function(t){t.preventDefault(),$(this).parents(".cart-item").remove(),i()}),$(".remove-batch").click(function(t){t.preventDefault(),$(".j-checkbox:checked").parents(".cart-item").remove(),i()}),$(".clear-all").click(function(t){t.preventDefault(),$(".j-checkbox").parents(".cart-item").remove(),i()})});